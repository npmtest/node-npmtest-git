<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-git/node_modules/git/lib/diff/diff.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-git">npmtest-git (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-git/node_modules/git/lib/diff/diff.js</span></h1>
    <h2>
        
        Statements: <span class="metric">5.73% <small>(24 / 419)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 346)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 22)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">6.17% <small>(24 / 389)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-git/node_modules/git/lib/diff/</a> &#187; diff.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827
828
829
830
831
832
833
834
835
836
837
838
839
840
841
842
843
844
845
846
847
848
849
850
851
852
853
854
855
856
857
858
859
860
861
862
863
864
865
866
867
868
869
870
871
872
873
874
875
876
877
878
879
880
881
882
883
884
885
886
887
888
889
890
891
892
893</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var util = require('util'),
  SequenceCallbacks = require('./callbacks').SequenceCallbacks,
  ContextChange = require('./change').ContextChange,
  Change = require('./change').Change,
  DiffCallbacks = require('./callbacks').DiffCallbacks,
  SDiffCallbacks = require('./callbacks').SDiffCallbacks,
  BalancedCallbacks = require('./callbacks').BalancedCallbacks,
  ContextDiffCallbacks = require('./callbacks').ContextDiffCallbacks,
  Hunk = require('./hunk').Hunk;
&nbsp;
var Difference = exports.Difference = <span class="fstat-no" title="function not covered" >function() {  </span>
}
&nbsp;
Difference.LCS = <span class="fstat-no" title="function not covered" >function() {  </span>
}
&nbsp;
// Scope the Sequence Callbacks class
Difference.LCS.SequenceCallbacks = SequenceCallbacks;
Difference.LCS.ContextChange = ContextChange;
Difference.LCS.DiffCallbacks = DiffCallbacks;
Difference.LCS.SDiffCallbacks = SDiffCallbacks;
Difference.LCS.BalancedCallbacks = BalancedCallbacks;
Difference.LCS.ContextDiffCallbacks = ContextDiffCallbacks;
Difference.LCS.Change = Change;
Difference.LCS.Hunk = Hunk;
&nbsp;
// Diff::LCS.sdiff computes all necessary components to show two sequences
// and their minimized differences side by side, just like the Unix
// utility &lt;em&gt;sdiff&lt;/em&gt; does:
//
//     old        &lt;     -
//     same             same
//     before     |     after
//     -          &gt;     new
//
// See Diff::LCS::SDiffCallbacks for the default behaviour. An alternate
// behaviour may be implemented with Diff::LCS::ContextDiffCallbacks. If
// a Class argument is provided for +callbacks+, //diff will attempt to
// initialise it. If the +callbacks+ object (possibly initialised)
// responds to //finish, it will be called.
Difference.LCS.sdiff = <span class="fstat-no" title="function not covered" >function(seq1, seq2, callbacks, block) {</span>
<span class="cstat-no" title="statement not covered" >  callbacks = callbacks != null ? callbacks : Difference.LCS.SDiffCallbacks;</span>
  
<span class="cstat-no" title="statement not covered" >  if(Object.prototype.toString.call(callbacks) == "[object Function]") {</span>
<span class="cstat-no" title="statement not covered" >    callbacks = new callbacks();</span>
  }
  
  // Traverse the sequence
<span class="cstat-no" title="statement not covered" >  Difference.LCS.traverse_balanced(seq1, seq2, callbacks);  </span>
<span class="cstat-no" title="statement not covered" >  if(callbacks.finish != null) <span class="cstat-no" title="statement not covered" >callbacks.finish();</span></span>
  
<span class="cstat-no" title="statement not covered" >  if(block != null) {    </span>
<span class="cstat-no" title="statement not covered" >    var res = callbacks.diffs.map(<span class="fstat-no" title="function not covered" >function(hunk) {</span></span>
<span class="cstat-no" title="statement not covered" >      if(Array.isArray(hunk)) {</span>
<span class="cstat-no" title="statement not covered" >        hunk = hunk.map(<span class="fstat-no" title="function not covered" >function(v) {</span> <span class="cstat-no" title="statement not covered" >return block(v); </span>});</span>
      } else {
<span class="cstat-no" title="statement not covered" >        block(hunk);</span>
      }
    });
    
<span class="cstat-no" title="statement not covered" >    return res;</span>
  } else {    
<span class="cstat-no" title="statement not covered" >    return callbacks.diffs;</span>
  }  
}
&nbsp;
// Diff::LCS.diff computes the smallest set of additions and deletions
// necessary to turn the first sequence into the second, and returns a
// description of these changes.
// 
// See Diff::LCS::DiffCallbacks for the default behaviour. An alternate
// behaviour may be implemented with Diff::LCS::ContextDiffCallbacks.
// If a Class argument is provided for +callbacks+, //diff will attempt
// to initialise it. If the +callbacks+ object (possibly initialised)
// responds to //finish, it will be called.
Difference.LCS.diff = <span class="fstat-no" title="function not covered" >function(seq1, seq2, callbacks, block) {</span>
<span class="cstat-no" title="statement not covered" >  callbacks = callbacks != null ? callbacks : Difference.LCS.DiffCallbacks;</span>
  
<span class="cstat-no" title="statement not covered" >  if(Object.prototype.toString.call(callbacks) == "[object Function]") {</span>
<span class="cstat-no" title="statement not covered" >    callbacks = new callbacks();</span>
  }
  
  // Traverse the sequence
<span class="cstat-no" title="statement not covered" >  Difference.LCS.traverse_sequences(seq1, seq2, callbacks);  </span>
<span class="cstat-no" title="statement not covered" >  if(callbacks.finish != null) <span class="cstat-no" title="statement not covered" >callbacks.finish();</span></span>
  
<span class="cstat-no" title="statement not covered" >  if(block != null) {    </span>
<span class="cstat-no" title="statement not covered" >    var res = callbacks.diffs.map(<span class="fstat-no" title="function not covered" >function(hunk) {</span></span>
<span class="cstat-no" title="statement not covered" >      if(Array.isArray(hunk)) {</span>
<span class="cstat-no" title="statement not covered" >        hunk = hunk.map(<span class="fstat-no" title="function not covered" >function(v) {</span> <span class="cstat-no" title="statement not covered" >return block(v); </span>});</span>
      } else {
<span class="cstat-no" title="statement not covered" >        block(hunk);</span>
      }
    });
    
<span class="cstat-no" title="statement not covered" >    return res;</span>
  } else {    
<span class="cstat-no" title="statement not covered" >    return callbacks.diffs;</span>
  }
}
&nbsp;
&nbsp;
// Diff::LCS.traverse_sequences is the most general facility provided by this
// module; +diff+ and +LCS+ are implemented as calls to it.
//
// The arguments to //traverse_sequences are the two sequences to
// traverse, and a callback object, like this:
//
//   traverse_sequences(seq1, seq2, Diff::LCS::ContextDiffCallbacks.new)
//
// //diff is implemented with //traverse_sequences.
//
// == Callback Methods
// Optional callback methods are &lt;em&gt;emphasized&lt;/em&gt;.
//
// callbacks//match::               Called when +a+ and +b+ are pointing
//                                 to common elements in +A+ and +B+.
// callbacks//discard_a::           Called when +a+ is pointing to an
//                                 element not in +B+.
// callbacks//discard_b::           Called when +b+ is pointing to an
//                                 element not in +A+.
// &lt;em&gt;callbacks//finished_a&lt;/em&gt;:: Called when +a+ has reached the end of
//                                 sequence +A+.
// &lt;em&gt;callbacks//finished_b&lt;/em&gt;:: Called when +b+ has reached the end of
//                                 sequence +B+.
//
// == Algorithm
//       a---+
//           v
//       A = a b c e h j l m n p
//       B = b c d e f j k l m r s t
//           ^
//       b---+
//
// If there are two arrows (+a+ and +b+) pointing to elements of
// sequences +A+ and +B+, the arrows will initially point to the first
// elements of their respective sequences. //traverse_sequences will
// advance the arrows through the sequences one element at a time,
// calling a method on the user-specified callback object before each
// advance. It will advance the arrows in such a way that if there are
// elements &lt;tt&gt;A[ii]&lt;/tt&gt; and &lt;tt&gt;B[jj]&lt;/tt&gt; which are both equal and
// part of the longest common subsequence, there will be some moment
// during the execution of //traverse_sequences when arrow +a+ is pointing
// to &lt;tt&gt;A[ii]&lt;/tt&gt; and arrow +b+ is pointing to &lt;tt&gt;B[jj]&lt;/tt&gt;. When
// this happens, //traverse_sequences will call &lt;tt&gt;callbacks//match&lt;/tt&gt;
// and then it will advance both arrows.
//
// Otherwise, one of the arrows is pointing to an element of its sequence
// that is not part of the longest common subsequence.
// //traverse_sequences will advance that arrow and will call
// &lt;tt&gt;callbacks//discard_a&lt;/tt&gt; or &lt;tt&gt;callbacks//discard_b&lt;/tt&gt;, depending
// on which arrow it advanced. If both arrows point to elements that are
// not part of the longest common subsequence, then //traverse_sequences
// will advance one of them and call the appropriate callback, but it is
// not specified which it will call.
//
// The methods for &lt;tt&gt;callbacks//match&lt;/tt&gt;, &lt;tt&gt;callbacks//discard_a&lt;/tt&gt;,
// and &lt;tt&gt;callbacks//discard_b&lt;/tt&gt; are invoked with an event comprising
// the action ("=", "+", or "-", respectively), the indicies +ii+ and
// +jj+, and the elements &lt;tt&gt;A[ii]&lt;/tt&gt; and &lt;tt&gt;B[jj]&lt;/tt&gt;. Return
// values are discarded by //traverse_sequences.
//
// === End of Sequences
// If arrow +a+ reaches the end of its sequence before arrow +b+ does,
// //traverse_sequence try to call &lt;tt&gt;callbacks//finished_a&lt;/tt&gt; with the
// last index and element of +A+ (&lt;tt&gt;A[-1]&lt;/tt&gt;) and the current index
// and element of +B+ (&lt;tt&gt;B[jj]&lt;/tt&gt;). If &lt;tt&gt;callbacks//finished_a&lt;/tt&gt;
// does not exist, then &lt;tt&gt;callbacks//discard_b&lt;/tt&gt; will be called on
// each element of +B+ until the end of the sequence is reached (the call
// will be done with &lt;tt&gt;A[-1]&lt;/tt&gt; and &lt;tt&gt;B[jj]&lt;/tt&gt; for each element).
//
// If +b+ reaches the end of +B+ before +a+ reaches the end of +A+,
// &lt;tt&gt;callbacks//finished_b&lt;/tt&gt; will be called with the current index
// and element of +A+ (&lt;tt&gt;A[ii]&lt;/tt&gt;) and the last index and element of
// +B+ (&lt;tt&gt;A[-1]&lt;/tt&gt;). Again, if &lt;tt&gt;callbacks//finished_b&lt;/tt&gt; does not
// exist on the callback object, then &lt;tt&gt;callbacks//discard_a&lt;/tt&gt; will
// be called on each element of +A+ until the end of the sequence is
// reached (&lt;tt&gt;A[ii]&lt;/tt&gt; and &lt;tt&gt;B[-1]&lt;/tt&gt;).
//
// There is a chance that one additional &lt;tt&gt;callbacks//discard_a&lt;/tt&gt; or
// &lt;tt&gt;callbacks//discard_b&lt;/tt&gt; will be called after the end of the
// sequence is reached, if +a+ has not yet reached the end of +A+ or +b+
// has not yet reached the end of +B+.
Difference.LCS.traverse_sequences = <span class="fstat-no" title="function not covered" >function(seq1, seq2, callbacks, block) {</span> // The block allows callbacks on change events
  // Ensure that we have at least a default callback object
<span class="cstat-no" title="statement not covered" >  callbacks = callbacks != null ? callbacks : new Difference.LCS.SequenceCallbacks();</span>
  // Fetch the matches from the __lcs algorithm
<span class="cstat-no" title="statement not covered" >  var matches = Difference.LCS.__lcs(seq1, seq2);</span>
  
<span class="cstat-no" title="statement not covered" >  var run_finished_a = false, run_finished_b = false;</span>
<span class="cstat-no" title="statement not covered" >  var string = seq1.constructor == String;</span>
  
<span class="cstat-no" title="statement not covered" >  var a_size = seq1.length, b_size = seq2.length;</span>
<span class="cstat-no" title="statement not covered" >  var ai = 0, bj = 0;</span>
<span class="cstat-no" title="statement not covered" >  var event = null;</span>
  
<span class="cstat-no" title="statement not covered" >  for(var ii = 0; ii &lt;= matches.length; ii++) {</span>
<span class="cstat-no" title="statement not covered" >    var b_line = matches[ii];</span>
    
<span class="cstat-no" title="statement not covered" >    var ax = string ? seq1.substr(ii, 1) : seq1[ii];</span>
<span class="cstat-no" title="statement not covered" >    var bx = string ? seq2.substr(bj, bj + 1) : seq2[bj];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if(b_line == null) {</span>
<span class="cstat-no" title="statement not covered" >      if(ax != null) {</span>
<span class="cstat-no" title="statement not covered" >        event = new Difference.LCS.ContextChange('-', ii, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >        if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >        callbacks.discard_a(event);</span>
      }
    } else {
<span class="cstat-no" title="statement not covered" >      while(bj &lt; b_line) {</span>
<span class="cstat-no" title="statement not covered" >        bx = string ? seq2.substr(bj, 1) : seq2[bj];</span>
<span class="cstat-no" title="statement not covered" >        event = new Difference.LCS.ContextChange('+', ii, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >        if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >        callbacks.discard_b(event);</span>
<span class="cstat-no" title="statement not covered" >        bj = bj + 1;</span>
      }
      
<span class="cstat-no" title="statement not covered" >      bx = string ? seq2.substr(bj, 1) : seq2[bj];</span>
<span class="cstat-no" title="statement not covered" >      event = new Difference.LCS.ContextChange('=', ii, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >      if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >      callbacks.match(event);</span>
<span class="cstat-no" title="statement not covered" >      bj = bj + 1;</span>
    }
    
    // Update the ai with the current index point
<span class="cstat-no" title="statement not covered" >    ai = ii;    </span>
  }
  
  // Update pointer
<span class="cstat-no" title="statement not covered" >  ai = ai + 1;</span>
  
  // The last entry (if any) processed was a match. +ai+ and +bj+ point
  // just past the last matching lines in their sequences.
<span class="cstat-no" title="statement not covered" >  while(ai &lt; a_size || bj &lt; b_size) {</span>
    // last A
<span class="cstat-no" title="statement not covered" >    if(ai == a_size &amp;&amp; bj &lt; b_size) {</span>
<span class="cstat-no" title="statement not covered" >      if(callbacks.finished_a != null &amp;&amp; !run_finished_a) {</span>
<span class="cstat-no" title="statement not covered" >        ax = string ? seq1.substr(seq1.length - 1, 1) : seq1[seq1.length - 1];</span>
<span class="cstat-no" title="statement not covered" >        bx = string ? seq2.substr(bj, 1) : seq2[bj];</span>
<span class="cstat-no" title="statement not covered" >        event = new Difference.LCS.ContextChange('&gt;', (a_size - 1), ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >        if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >        callbacks.finished_a(event);</span>
<span class="cstat-no" title="statement not covered" >        run_finished_a = true;</span>
      } else {        
<span class="cstat-no" title="statement not covered" >        ax = string ? seq1.substr(ai, 1) : seq1[ai];</span>
<span class="cstat-no" title="statement not covered" >        do {</span>
<span class="cstat-no" title="statement not covered" >          bx = string ? seq2.substr(bj, 1) : seq2[bj];</span>
<span class="cstat-no" title="statement not covered" >          event = new Difference.LCS.ContextChange('+', ai, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >          if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >          callbacks.discard_b(event);</span>
<span class="cstat-no" title="statement not covered" >          bj = bj + 1;          </span>
        } while(bj &lt; b_size)
      }
    }
    
    // last B?
<span class="cstat-no" title="statement not covered" >    if(bj == b_size &amp;&amp; ai &lt; a_size) {</span>
<span class="cstat-no" title="statement not covered" >      if(callbacks.finished_b != null &amp;&amp; !run_finished_b) {</span>
<span class="cstat-no" title="statement not covered" >        ax = string ? seq1.substr(ai, 1) : seq1[ai];</span>
<span class="cstat-no" title="statement not covered" >        bx = string ? seq2.substr(seq2.length - 1, 1) : seq2[seq2.length - 1];</span>
<span class="cstat-no" title="statement not covered" >        event = new Difference.LCS.ContextChange('&lt;', ai, ax, (b_size -1), bx);</span>
<span class="cstat-no" title="statement not covered" >        if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >        callbacks.finished_b(event);</span>
<span class="cstat-no" title="statement not covered" >        run_finished_b = true;</span>
      } else {
<span class="cstat-no" title="statement not covered" >        bx = string ? seq2.substr(bj, 1) : seq2[bj];</span>
<span class="cstat-no" title="statement not covered" >        do {</span>
<span class="cstat-no" title="statement not covered" >          ax = string ? seq1.substr(ai, 1) : seq1[ai];</span>
<span class="cstat-no" title="statement not covered" >          event = new Difference.LCS.ContextChange('-', ai, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >          if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >          callbacks.discard_a(event);</span>
<span class="cstat-no" title="statement not covered" >          ai = ai + 1;        </span>
        } while(bj &lt; b_size)
      }
    }    
    
<span class="cstat-no" title="statement not covered" >    if(ai &lt; a_size) {</span>
<span class="cstat-no" title="statement not covered" >      ax = string ? seq1.substr(ai, 1) : seq1[ai];</span>
<span class="cstat-no" title="statement not covered" >      bx = string ? seq2.substr(bj, 1) : seq2[bj];</span>
<span class="cstat-no" title="statement not covered" >      event = new Difference.LCS.ContextChange('-', ai, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >      if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >      callbacks.discard_a(event);</span>
<span class="cstat-no" title="statement not covered" >      ai = ai + 1;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if(bj &lt; b_size) {</span>
<span class="cstat-no" title="statement not covered" >      ax = string ? seq1.substr(ai, 1) : seq1[ai];</span>
<span class="cstat-no" title="statement not covered" >      bx = string ? seq2.substr(bj, 1) : seq2[bj];</span>
<span class="cstat-no" title="statement not covered" >      event = new Difference.LCS.ContextChange('+', ai, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >      if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >      callbacks.discard_b(event);</span>
<span class="cstat-no" title="statement not covered" >      bj = bj + 1;</span>
    }      
  }  
}
&nbsp;
// //traverse_balanced is an alternative to //traverse_sequences. It
// uses a different algorithm to iterate through the entries in the
// computed longest common subsequence. Instead of viewing the changes as
// insertions or deletions from one of the sequences, //traverse_balanced
// will report &lt;em&gt;changes&lt;/em&gt; between the sequences. To represent a
//
// The arguments to //traverse_balanced are the two sequences to traverse
// and a callback object, like this:
//
//   traverse_balanced(seq1, seq2, Diff::LCS::ContextDiffCallbacks.new)
//
// //sdiff is implemented with //traverse_balanced.
//
// == Callback Methods
// Optional callback methods are &lt;em&gt;emphasized&lt;/em&gt;.
//
// callbacks//match::               Called when +a+ and +b+ are pointing
//                                 to common elements in +A+ and +B+.
// callbacks//discard_a::           Called when +a+ is pointing to an
//                                 element not in +B+.
// callbacks//discard_b::           Called when +b+ is pointing to an
//                                 element not in +A+.
// &lt;em&gt;callbacks//change&lt;/em&gt;::     Called when +a+ and +b+ are pointing
//                                 to the same relative position, but
//                                 &lt;tt&gt;A[a]&lt;/tt&gt; and &lt;tt&gt;B[b]&lt;/tt&gt; are
//                                 not the same; a &lt;em&gt;change&lt;/em&gt; has
//                                 occurred.
//
// //traverse_balanced might be a bit slower than //traverse_sequences,
// noticable only while processing huge amounts of data.
//
// The +sdiff+ function of this module is implemented as call to
// //traverse_balanced.
//
// == Algorithm
//       a---+
//           v
//       A = a b c e h j l m n p
//       B = b c d e f j k l m r s t
//           ^
//       b---+
//
// === Matches
// If there are two arrows (+a+ and +b+) pointing to elements of
// sequences +A+ and +B+, the arrows will initially point to the first
// elements of their respective sequences. //traverse_sequences will
// advance the arrows through the sequences one element at a time,
// calling a method on the user-specified callback object before each
// advance. It will advance the arrows in such a way that if there are
// elements &lt;tt&gt;A[ii]&lt;/tt&gt; and &lt;tt&gt;B[jj]&lt;/tt&gt; which are both equal and
// part of the longest common subsequence, there will be some moment
// during the execution of //traverse_sequences when arrow +a+ is pointing
// to &lt;tt&gt;A[ii]&lt;/tt&gt; and arrow +b+ is pointing to &lt;tt&gt;B[jj]&lt;/tt&gt;. When
// this happens, //traverse_sequences will call &lt;tt&gt;callbacks//match&lt;/tt&gt;
// and then it will advance both arrows.
//
// === Discards
// Otherwise, one of the arrows is pointing to an element of its sequence
// that is not part of the longest common subsequence.
// //traverse_sequences will advance that arrow and will call
// &lt;tt&gt;callbacks//discard_a&lt;/tt&gt; or &lt;tt&gt;callbacks//discard_b&lt;/tt&gt;,
// depending on which arrow it advanced.
//
// === Changes
// If both +a+ and +b+ point to elements that are not part of the longest
// common subsequence, then //traverse_sequences will try to call
// &lt;tt&gt;callbacks//change&lt;/tt&gt; and advance both arrows. If
// &lt;tt&gt;callbacks//change&lt;/tt&gt; is not implemented, then
// &lt;tt&gt;callbacks//discard_a&lt;/tt&gt; and &lt;tt&gt;callbacks//discard_b&lt;/tt&gt; will be
// called in turn.
//
// The methods for &lt;tt&gt;callbacks//match&lt;/tt&gt;, &lt;tt&gt;callbacks//discard_a&lt;/tt&gt;,
// &lt;tt&gt;callbacks//discard_b&lt;/tt&gt;, and &lt;tt&gt;callbacks//change&lt;/tt&gt; are
// invoked with an event comprising the action ("=", "+", "-", or "!",
// respectively), the indicies +ii+ and +jj+, and the elements
// &lt;tt&gt;A[ii]&lt;/tt&gt; and &lt;tt&gt;B[jj]&lt;/tt&gt;. Return values are discarded by
// //traverse_balanced.
//
// === Context
// Note that +ii+ and +jj+ may not be the same index position, even if
// +a+ and +b+ are considered to be pointing to matching or changed
// elements.
Difference.LCS.traverse_balanced = <span class="fstat-no" title="function not covered" >function(seq1, seq2, callbacks, block) {</span>
  // Ensure that we have at least a default callback object
<span class="cstat-no" title="statement not covered" >  callbacks = callbacks != null ? callbacks : new Difference.LCS.BalancedCallbacks();</span>
  // Fetch the matches from the __lcs algorithm
<span class="cstat-no" title="statement not covered" >  var matches = Difference.LCS.__lcs(seq1, seq2);  </span>
<span class="cstat-no" title="statement not covered" >  var a_size = seq1.length;</span>
<span class="cstat-no" title="statement not covered" >  var b_size = seq2.length;</span>
<span class="cstat-no" title="statement not covered" >  var ai = 0, bj = 0;</span>
<span class="cstat-no" title="statement not covered" >  var mb = 0;</span>
<span class="cstat-no" title="statement not covered" >  var ma = -1;</span>
<span class="cstat-no" title="statement not covered" >  var string = seq1.constructor == String;</span>
<span class="cstat-no" title="statement not covered" >  var ax = null, bx = null, event = null;</span>
<span class="cstat-no" title="statement not covered" >  var execute = true;</span>
&nbsp;
  // Process all the lines in the match vector.
<span class="cstat-no" title="statement not covered" >  while(true) {</span>
    // Find next match indices +ma+ and +mb+
<span class="cstat-no" title="statement not covered" >    while(execute) {</span>
<span class="cstat-no" title="statement not covered" >      ma = ma + 1;</span>
<span class="cstat-no" title="statement not covered" >      if(!(ma &lt; matches.length &amp;&amp; matches[ma] == null)) <span class="cstat-no" title="statement not covered" >break;</span></span>
      // execute = !(ma &lt; matches.length &amp;&amp; matches[ma] == null);
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if(ma &gt;= matches.length) <span class="cstat-no" title="statement not covered" >break; </span></span>// end of matches
<span class="cstat-no" title="statement not covered" >    mb = matches[ma];</span>
&nbsp;
    // Change seq2
<span class="cstat-no" title="statement not covered" >    while((ai &lt; ma) || (bj &lt; mb)) {</span>
<span class="cstat-no" title="statement not covered" >      ax = string ? seq1.substr(ai, 1) : seq1[ai];</span>
<span class="cstat-no" title="statement not covered" >      bx = string ? seq2.substr(bj, 1) : seq2[bj];</span>
      
      // Calculate result
<span class="cstat-no" title="statement not covered" >      var result = [(ai &lt; ma), (bj &lt; mb)];</span>
      
<span class="cstat-no" title="statement not covered" >      if(result[0] &amp;&amp; result[1]) {</span>
<span class="cstat-no" title="statement not covered" >        if(callbacks.change != null) {</span>
<span class="cstat-no" title="statement not covered" >          event = new Difference.LCS.ContextChange('!', ai, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >          if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >          callbacks.change(event);</span>
<span class="cstat-no" title="statement not covered" >          ai = ai + 1;</span>
<span class="cstat-no" title="statement not covered" >          bj = bj + 1;</span>
        } else {
<span class="cstat-no" title="statement not covered" >          event = new Difference.LCS.ContextChange('-', ai, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >          if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >          callbacks.discard_a(event);</span>
<span class="cstat-no" title="statement not covered" >          ai = ai + 1;</span>
<span class="cstat-no" title="statement not covered" >          ax = string ? seq1.substr(ai, 1) : seq1[ai];</span>
<span class="cstat-no" title="statement not covered" >          event = new Difference.LCS.ContextChange('+', ai, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >          if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >          callbacks.discard_b(event);</span>
<span class="cstat-no" title="statement not covered" >          bj = bj + 1</span>
        }
      } else <span class="cstat-no" title="statement not covered" >if(result[0] &amp;&amp; !result[1]) {</span>
<span class="cstat-no" title="statement not covered" >        event = new Difference.LCS.ContextChange('-', ai, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >        if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >        callbacks.discard_a(event);</span>
<span class="cstat-no" title="statement not covered" >        ai = ai + 1;</span>
      } else <span class="cstat-no" title="statement not covered" >if(!result[0] &amp;&amp; result[1]) {</span>
<span class="cstat-no" title="statement not covered" >        event = new Difference.LCS.ContextChange('+', ai, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >        if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >        callbacks.discard_b(event);</span>
<span class="cstat-no" title="statement not covered" >        bj = bj + 1;</span>
      }      
    }
    
    // Match
<span class="cstat-no" title="statement not covered" >    ax = string ? seq1.substr(ai, 1) : seq1[ai];</span>
<span class="cstat-no" title="statement not covered" >    bx = string ? seq2.substr(bj, 1) : seq2[bj];</span>
<span class="cstat-no" title="statement not covered" >    event = new Difference.LCS.ContextChange('=', ai, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >    if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >    callbacks.match(event);</span>
<span class="cstat-no" title="statement not covered" >    ai = ai + 1;</span>
<span class="cstat-no" title="statement not covered" >    bj = bj + 1;    </span>
  }
  
<span class="cstat-no" title="statement not covered" >  while((ai &lt; a_size) || (bj &lt; b_size)) {</span>
<span class="cstat-no" title="statement not covered" >    ax = string ? seq1.substr(ai, 1) : seq1[ai];</span>
<span class="cstat-no" title="statement not covered" >    bx = string ? seq2.substr(bj, 1) : seq2[bj];</span>
    
<span class="cstat-no" title="statement not covered" >    var result = [(ai &lt; a_size), (bj &lt; b_size)];</span>
<span class="cstat-no" title="statement not covered" >    if(result[0] &amp;&amp; result[1]) {</span>
<span class="cstat-no" title="statement not covered" >      if(callbacks.change != null) {</span>
<span class="cstat-no" title="statement not covered" >        event = new Difference.LCS.ContextChange('!', ai, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >        if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >        callbacks.change(event);</span>
<span class="cstat-no" title="statement not covered" >        ai = ai + 1;</span>
<span class="cstat-no" title="statement not covered" >        bj = bj + 1;</span>
      } else {
<span class="cstat-no" title="statement not covered" >        event = new Difference.LCS.ContextChange('-', ai, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >        if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >        callbacks.discard_a(event);</span>
<span class="cstat-no" title="statement not covered" >        ai = ai + 1;</span>
<span class="cstat-no" title="statement not covered" >        ax = string ? seq1.substr(ai, 1) : seq1[ai];</span>
<span class="cstat-no" title="statement not covered" >        event = new Difference.LCS.ContextChange('+', ai, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >        if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >        callbacks.discard_b(event);</span>
<span class="cstat-no" title="statement not covered" >        bj = bj + 1;        </span>
      }
    } else <span class="cstat-no" title="statement not covered" >if(result[0] &amp;&amp; !result[1]) {</span>
<span class="cstat-no" title="statement not covered" >      event = new Difference.LCS.ContextChange('-', ai, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >      if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >      callbacks.discard_a(event);</span>
<span class="cstat-no" title="statement not covered" >      ai = ai + 1;</span>
    } else <span class="cstat-no" title="statement not covered" >if(!result[0] &amp;&amp; result[1]) {</span>
<span class="cstat-no" title="statement not covered" >      event = new Difference.LCS.ContextChange('+', ai, ax, bj, bx);</span>
<span class="cstat-no" title="statement not covered" >      if(block != null) <span class="cstat-no" title="statement not covered" >event = block(event);</span></span>
<span class="cstat-no" title="statement not covered" >      callbacks.discard_b(event);</span>
<span class="cstat-no" title="statement not covered" >      bj = bj + 1;</span>
    }
  }
}
&nbsp;
// Given two sequenced Enumerables, LCS returns an Array containing their
// longest common subsequences.
// 
//   lcs = Diff::LCS.LCS(seq1, seq2)
// 
// This array whose contents is such that:
// 
//   lcs.each_with_index do |ee, ii|
//     assert(ee.nil? || (seq1[ii] == seq2[ee]))
//   end
// 
// If a block is provided, the matching subsequences will be yielded from
// +seq1+ in turn and may be modified before they are placed into the
// returned Array of subsequences.
Difference.LCS.LCS = <span class="fstat-no" title="function not covered" >function(seq1, seq2, block) {</span>
<span class="cstat-no" title="statement not covered" >  var matches = Difference.LCS.__lcs(seq1, seq2);</span>
<span class="cstat-no" title="statement not covered" >  var ret = [];</span>
  
<span class="cstat-no" title="statement not covered" >  for(var ii = 0; ii &lt; matches.length; ii++) {</span>
<span class="cstat-no" title="statement not covered" >    if(matches[ii] != null) {</span>
<span class="cstat-no" title="statement not covered" >      if(block != null) {</span>
<span class="cstat-no" title="statement not covered" >        ret.push(block(seq1[ii]));</span>
      } else {
<span class="cstat-no" title="statement not covered" >        ret.push(seq1[ii]);</span>
      }
    }
  }
  // Return the result
<span class="cstat-no" title="statement not covered" >  return ret;</span>
}
&nbsp;
var PATCH_MAP = {
  patch:{ '+':'+', '-':'-', '!':'!', '=':'=' },
  unpatch:{ '+':'-', '-':'+', '!':'!', '=':'=' }
}
&nbsp;
// Given a patchset, convert the current version to the new
// version. If +direction+ is not specified (must be
// &lt;tt&gt;:patch&lt;/tt&gt; or &lt;tt&gt;:unpatch&lt;/tt&gt;), then discovery of the
// direction of the patch will be attempted.
Difference.LCS.patch = <span class="fstat-no" title="function not covered" >function(src, patchset, direction) {</span>
<span class="cstat-no" title="statement not covered" >  var string = src.constructor == String;</span>
  // Start with an empty type of the source's class
<span class="cstat-no" title="statement not covered" >  var res = string ? '' : [];</span>
  
  // Normalize the patchset
<span class="cstat-no" title="statement not covered" >  var patchset = this.__normalize_patchset(patchset);</span>
<span class="cstat-no" title="statement not covered" >  var direction = direction || Difference.LCS.__diff_direction(src, patchset);</span>
<span class="cstat-no" title="statement not covered" >  direction = direction || "patch";</span>
  
<span class="cstat-no" title="statement not covered" >  var ai = 0, bj = 0;</span>
<span class="cstat-no" title="statement not covered" >  var el = null, op = null, np = null;</span>
  
<span class="cstat-no" title="statement not covered" >  for(var i = 0; i &lt; patchset.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var change = patchset[i];</span>
    // Both Change and ContextChange has the action
<span class="cstat-no" title="statement not covered" >    var action = PATCH_MAP[direction][change.action];</span>
    
<span class="cstat-no" title="statement not covered" >    if(change instanceof ContextChange) {</span>
<span class="cstat-no" title="statement not covered" >      if(direction == 'patch') {</span>
<span class="cstat-no" title="statement not covered" >        el = change.new_element;</span>
<span class="cstat-no" title="statement not covered" >        op = change.old_position;</span>
<span class="cstat-no" title="statement not covered" >        np = change.new_position;</span>
      } else <span class="cstat-no" title="statement not covered" >if(direction == 'unpatch') {</span>
<span class="cstat-no" title="statement not covered" >        el = change.old_element;</span>
<span class="cstat-no" title="statement not covered" >        op = change.new_position;</span>
<span class="cstat-no" title="statement not covered" >        np = change.old_position;</span>
      }
      
<span class="cstat-no" title="statement not covered" >      if(action == '-') { //Remove details from the old string</span>
<span class="cstat-no" title="statement not covered" >        while(ai &lt; op) {</span>
<span class="cstat-no" title="statement not covered" >          string ? res = res + src.substr(ai, 1) : res.push(src[ai]);</span>
<span class="cstat-no" title="statement not covered" >          ai = ai + 1;</span>
<span class="cstat-no" title="statement not covered" >          bj = bj + 1;</span>
        }        
<span class="cstat-no" title="statement not covered" >        ai = ai + 1;</span>
      } else <span class="cstat-no" title="statement not covered" >if(action == '+') {</span>
<span class="cstat-no" title="statement not covered" >        while(bj &lt; np) {</span>
<span class="cstat-no" title="statement not covered" >          string ? res = res + src.substr(ai, 1) : res.push(src[ai]);</span>
<span class="cstat-no" title="statement not covered" >          ai = ai + 1;</span>
<span class="cstat-no" title="statement not covered" >          bj = bj + 1;</span>
        }
<span class="cstat-no" title="statement not covered" >        string ? res = res + el : res.push(el);</span>
<span class="cstat-no" title="statement not covered" >        bj = bj + 1;</span>
      } else <span class="cstat-no" title="statement not covered" >if(action == '=') {</span>
        // This only appears in sdiff output with the SDiff callback.
        // Therefore, we only need to worry about dealing with a single
        // element.
<span class="cstat-no" title="statement not covered" >        string ? res = res + el : res.push(el);</span>
<span class="cstat-no" title="statement not covered" >        ai = ai + 1;</span>
<span class="cstat-no" title="statement not covered" >        bj = bj + 1;</span>
      } else <span class="cstat-no" title="statement not covered" >if(action == '!') {</span>
<span class="cstat-no" title="statement not covered" >        while(ai &lt; op) {</span>
<span class="cstat-no" title="statement not covered" >          string ? res = res + src.substr(ai, 1) : res.push(src[ai]);</span>
<span class="cstat-no" title="statement not covered" >          ai = ai + 1;</span>
<span class="cstat-no" title="statement not covered" >          bj = bj + 1;</span>
        }
<span class="cstat-no" title="statement not covered" >        bj = bj + 1;</span>
<span class="cstat-no" title="statement not covered" >        ai = ai + 1;</span>
<span class="cstat-no" title="statement not covered" >        string ? res = res + el : res.push(el);</span>
      }
    } else <span class="cstat-no" title="statement not covered" >if(change instanceof Change) {</span>
<span class="cstat-no" title="statement not covered" >      if(action == '-') {</span>
<span class="cstat-no" title="statement not covered" >        while(ai &lt; change.position) {</span>
<span class="cstat-no" title="statement not covered" >          string ? res = res + src.substr(ai, 1) : res.push(src[ai]);</span>
<span class="cstat-no" title="statement not covered" >          ai = ai + 1;</span>
<span class="cstat-no" title="statement not covered" >          bj = bj + 1;</span>
        }
<span class="cstat-no" title="statement not covered" >        ai = ai + 1;</span>
      } else <span class="cstat-no" title="statement not covered" >if(action = '+') {</span>
<span class="cstat-no" title="statement not covered" >        while(bj &lt; change.position) {</span>
<span class="cstat-no" title="statement not covered" >          string ? res = res + src.substr(ai, 1) : res.push(src[ai]);</span>
<span class="cstat-no" title="statement not covered" >          ai = ai + 1;</span>
<span class="cstat-no" title="statement not covered" >          bj = bj + 1;</span>
        }
<span class="cstat-no" title="statement not covered" >        bj = bj + 1;</span>
<span class="cstat-no" title="statement not covered" >        string ? res = res + change.element : res.push(change.element);</span>
      }
    }    
  }  
  
<span class="cstat-no" title="statement not covered" >  while(ai &lt; src.length) {</span>
<span class="cstat-no" title="statement not covered" >    string ? res = res + src.substr(ai, 1) : res.push(src[ai]);</span>
<span class="cstat-no" title="statement not covered" >    ai = ai + 1;</span>
<span class="cstat-no" title="statement not covered" >    bj = bj + 1;</span>
  }
  
<span class="cstat-no" title="statement not covered" >  return res;  </span>
}
&nbsp;
// Examine the patchset and the source to see in which direction the
// patch should be applied.
//
// WARNING: By default, this examines the whole patch, so this could take
// some time. This also works better with Diff::LCS::ContextChange or
// Diff::LCS::Change as its source, as an array will cause the creation
// of one of the above.
Difference.LCS.__diff_direction = <span class="fstat-no" title="function not covered" >function(src, patchset, limit) {</span>
<span class="cstat-no" title="statement not covered" >  var count = 0, left = 0, left_miss = 0, right = 0, right_miss = 0, element = null;</span>
<span class="cstat-no" title="statement not covered" >  var string = src.constructor == String;</span>
&nbsp;
  // Process all changes in the patchset
<span class="cstat-no" title="statement not covered" >  for(var i = 0; i &lt; patchset.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var change = patchset[i];</span>
<span class="cstat-no" title="statement not covered" >    count = count + 1;</span>
    
<span class="cstat-no" title="statement not covered" >    if(change instanceof Change) {</span>
      // With a simplistic change, we can't tell the difference between
      // the left and right on '!' actions, so we ignore those. On '='
      // actions, if there's a miss, we miss both left and right.
<span class="cstat-no" title="statement not covered" >      element = string ? src.substr(change.position, 1) : src[change.position];</span>
      
<span class="cstat-no" title="statement not covered" >      if(change.action == '-') {</span>
<span class="cstat-no" title="statement not covered" >        element == change.element ? left = left + 1 : left_miss = left_miss + 1;</span>
      } else <span class="cstat-no" title="statement not covered" >if(change.action == '+') {</span>
<span class="cstat-no" title="statement not covered" >        element == change.element ? right = right + 1 : right_miss = right_miss + 1;</span>
      } else <span class="cstat-no" title="statement not covered" >if(change.action == '=') {</span>
<span class="cstat-no" title="statement not covered" >        if(element != change.element) {</span>
<span class="cstat-no" title="statement not covered" >          left_miss = left_miss + 1;</span>
<span class="cstat-no" title="statement not covered" >          right_miss = right_miss + 1;</span>
        }
      }      
    } else <span class="cstat-no" title="statement not covered" >if(change instanceof ContextChange) {</span>
<span class="cstat-no" title="statement not covered" >      if(change.action == '-') {</span>
<span class="cstat-no" title="statement not covered" >        element = string ? src.substr(change.old_position, 1) : src[change.old_position];</span>
<span class="cstat-no" title="statement not covered" >        element == change.old_element ? left = left + 1 : left_miss = left_miss + 1;        </span>
      } else <span class="cstat-no" title="statement not covered" >if(change.action == '+') {</span>
<span class="cstat-no" title="statement not covered" >        element = string ? src.substr(change.new_position, 1) : src[change.new_position];</span>
<span class="cstat-no" title="statement not covered" >        element == change.new_element ? right = right + 1 : right_miss = right_miss + 1;</span>
      } else <span class="cstat-no" title="statement not covered" >if(change.action == '=') {</span>
<span class="cstat-no" title="statement not covered" >        var le = string ? src.substr(change.old_position, 1) : src[change.old_position];</span>
<span class="cstat-no" title="statement not covered" >        var re = string ? src.substr(change.new_position, 1) : src[change.new_position];</span>
        
<span class="cstat-no" title="statement not covered" >        if(le != change.old_element) <span class="cstat-no" title="statement not covered" >left_miss = left_miss + 1;</span></span>
<span class="cstat-no" title="statement not covered" >        if(re != change.new_element) <span class="cstat-no" title="statement not covered" >right_miss = right_miss + 1;</span></span>
      } else <span class="cstat-no" title="statement not covered" >if(change.action == '!') {</span>
<span class="cstat-no" title="statement not covered" >        element = string ? src.substr(change.old_position, 1) : src[change.old_position];</span>
<span class="cstat-no" title="statement not covered" >        if(element == change.old_element) {</span>
<span class="cstat-no" title="statement not covered" >          left = left + 1;</span>
        } else {
<span class="cstat-no" title="statement not covered" >          left_miss = left_miss + 1;</span>
<span class="cstat-no" title="statement not covered" >          right_miss = right_miss + 1;</span>
        }
      }
    }
    
<span class="cstat-no" title="statement not covered" >    if(limit != null &amp;&amp; count &gt; limit) <span class="cstat-no" title="statement not covered" >break;</span></span>
  };
  
<span class="cstat-no" title="statement not covered" >  var no_left = (left == 0) &amp;&amp; (left_miss &gt;= 0);</span>
<span class="cstat-no" title="statement not covered" >  var no_right = (right == 0) &amp;&amp; (right_miss &gt;= 0);</span>
  
<span class="cstat-no" title="statement not covered" >  var result = [no_left, no_right];</span>
<span class="cstat-no" title="statement not covered" >  if(!no_left &amp;&amp; no_right) {</span>
<span class="cstat-no" title="statement not covered" >    return "patch";</span>
  } else <span class="cstat-no" title="statement not covered" >if(no_left &amp;&amp; !no_right) {</span>
<span class="cstat-no" title="statement not covered" >    return "unpatch";</span>
  } else {
<span class="cstat-no" title="statement not covered" >    throw "The provided patchset does not appear to apply to the provided value as either source or destination value."</span>
  }
}
&nbsp;
// Normalize the patchset. A patchset is always a sequence of changes, but
// how those changes are represented may vary, depending on how they were
// generated. In all cases we support, we also support the array
// representation of the changes. The formats are:
//
//   [ // patchset &lt;- Diff::LCS.diff(a, b)
//     [ // one or more hunks
//       Diff::LCS::Change // one or more changes
//     ] ]
//
//   [ // patchset, equivalent to the above
//     [ // one or more hunks
//       [ action, line, value ] // one or more changes
//     ] ]
//
//   [ // patchset &lt;- Diff::LCS.diff(a, b, Diff::LCS::ContextDiffCallbacks)
//     //       OR &lt;- Diff::LCS.sdiff(a, b, Diff::LCS::ContextDiffCallbacks)
//     [ // one or more hunks
//       Diff::LCS::ContextChange // one or more changes
//     ] ]
//
//   [ // patchset, equivalent to the above
//     [ // one or more hunks
//       [ action, [ old line, old value ], [ new line, new value ] ]
//         // one or more changes
//     ] ]
//
//   [ // patchset &lt;- Diff::LCS.sdiff(a, b)
//     //       OR &lt;- Diff::LCS.diff(a, b, Diff::LCS::SDiffCallbacks)
//     Diff::LCS::ContextChange // one or more changes
//   ]
//
//   [ // patchset, equivalent to the above
//     [ action, [ old line, old value ], [ new line, new value ] ]
//       // one or more changes
//   ]
//
// The result of this will be either of the following.
//
//   [ // patchset
//     Diff::LCS::ContextChange // one or more changes
//   ]
//
//   [ // patchset
//     Diff::LCS::Change // one or more changes
//   ]
//
// If either of the above is provided, it will be returned as such.
//
Difference.LCS.__normalize_patchset = <span class="fstat-no" title="function not covered" >function(patchset) {</span>
<span class="cstat-no" title="statement not covered" >  return flatten(patchset.map(<span class="fstat-no" title="function not covered" >function(hunk) {</span></span>
<span class="cstat-no" title="statement not covered" >    if(hunk instanceof ContextChange || hunk instanceof Change) {</span>
<span class="cstat-no" title="statement not covered" >      return hunk;</span>
    } else <span class="cstat-no" title="statement not covered" >if(Array.isArray(hunk)) {</span>
<span class="cstat-no" title="statement not covered" >      if(!Array.isArray(hunk[0]) &amp;&amp; Array.isArray(hunk[1]) &amp;&amp; Array.isArray(hunk[2])) {</span>
<span class="cstat-no" title="statement not covered" >        return ContextChange.from_a(hunk);</span>
      } else {
<span class="cstat-no" title="statement not covered" >        return hunk.map(<span class="fstat-no" title="function not covered" >function(change) {</span></span>
<span class="cstat-no" title="statement not covered" >          if(change instanceof ContextChange || change instanceof Change) {</span>
<span class="cstat-no" title="statement not covered" >            return change;</span>
          } else <span class="cstat-no" title="statement not covered" >if(Array.isArray(change)) {</span>
            // change[1] will ONLY be an array in a ContextChange#to_a call.
            // In Change#to_a, it represents the line (singular).
<span class="cstat-no" title="statement not covered" >            if(Array.isArray(change[1])) {</span>
<span class="cstat-no" title="statement not covered" >              return ContextChange.from_a(change);</span>
            } else {
<span class="cstat-no" title="statement not covered" >              return Change.from_a(change);</span>
            }
          }
        });
      }      
    } else {
<span class="cstat-no" title="statement not covered" >      throw "Cannot normalize the hunk: " + util.inspect(hunk);</span>
    }    
  }));
}
&nbsp;
// Gotten from
var flatten = <span class="fstat-no" title="function not covered" >function(array) {</span>
<span class="cstat-no" title="statement not covered" >  return array.reduce(<span class="fstat-no" title="function not covered" >function(a,b) {  </span></span>
<span class="cstat-no" title="statement not covered" >    return a.concat(b);  </span>
  }, []);
}
&nbsp;
// Compute the longest common subsequence between the arrays a and b the result
// being an array whose content is such that they 
// count = 0
// result.forEach(function(e) {
//  if(e) a[count] == b[e];
//  count++; 
// })
Difference.LCS.__lcs = <span class="fstat-no" title="function not covered" >function(a, b) {</span>
<span class="cstat-no" title="statement not covered" >  var a_start = 0;</span>
<span class="cstat-no" title="statement not covered" >  var b_start = 0;</span>
<span class="cstat-no" title="statement not covered" >  var a_finish = a.length - 1;</span>
<span class="cstat-no" title="statement not covered" >  var b_finish = b.length - 1;</span>
<span class="cstat-no" title="statement not covered" >  var vector = [];</span>
    
  // Remove common elements at the beginning
<span class="cstat-no" title="statement not covered" >  while((a_start &lt;= a_finish) &amp;&amp; (b_start &lt;= b_finish) &amp;&amp; (a[a_start] == b[b_start])) {</span>
<span class="cstat-no" title="statement not covered" >    vector[a_start] = b_start;</span>
<span class="cstat-no" title="statement not covered" >    a_start = a_start + 1;</span>
<span class="cstat-no" title="statement not covered" >    b_start = b_start + 1;</span>
  }
  
  // Remove common elements at the end
<span class="cstat-no" title="statement not covered" >  while((a_start &lt;= a_finish) &amp;&amp; (b_start &lt;= b_finish) &amp;&amp; (a[a_finish] == b[b_finish])) {</span>
<span class="cstat-no" title="statement not covered" >    vector[a_finish] = b_finish;</span>
<span class="cstat-no" title="statement not covered" >    a_finish = a_finish - 1;</span>
<span class="cstat-no" title="statement not covered" >    b_finish = b_finish - 1;</span>
  }
  
  // Now compute the equivalent classes of positions of elements
<span class="cstat-no" title="statement not covered" >  var b_matches = Difference.LCS.__position_hash(b, b_start, b_finish);</span>
  
  // Define treshold and links
<span class="cstat-no" title="statement not covered" >  var thresh = [];</span>
<span class="cstat-no" title="statement not covered" >  var links = [];</span>
  
<span class="cstat-no" title="statement not covered" >  for(var ii = a_start; ii &lt;= a_finish; ii++) {</span>
<span class="cstat-no" title="statement not covered" >    var ai = Array.isArray(a) ? a[ii] : a.charAt(ii);</span>
<span class="cstat-no" title="statement not covered" >    var bm = b_matches[ai];</span>
<span class="cstat-no" title="statement not covered" >    bm = bm ? bm : [];</span>
<span class="cstat-no" title="statement not covered" >    var kk = null;</span>
    
<span class="cstat-no" title="statement not covered" >    bm.reverse().forEach(<span class="fstat-no" title="function not covered" >function(jj) {</span></span>
<span class="cstat-no" title="statement not covered" >      if(kk != null &amp;&amp; (thresh[kk] &gt; jj) &amp;&amp; (thresh[kk - 1] &lt; jj)) {</span>
<span class="cstat-no" title="statement not covered" >        thresh[kk] = jj;</span>
      } else {
<span class="cstat-no" title="statement not covered" >        kk = Difference.LCS.__replace_next_larger(thresh, jj, kk);</span>
      }
      // Add link
<span class="cstat-no" title="statement not covered" >      if(kk != null) <span class="cstat-no" title="statement not covered" >links[kk] = [(kk &gt; 0) ? links[kk - 1] : null, ii, jj];</span></span>
    });
  }
    
  // Build the vector
<span class="cstat-no" title="statement not covered" >  if(thresh.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >    var link = links[thresh.length - 1];</span>
    
<span class="cstat-no" title="statement not covered" >    while(link != null) {</span>
<span class="cstat-no" title="statement not covered" >      vector[link[1]] = link[2];</span>
<span class="cstat-no" title="statement not covered" >      link = link[0];</span>
    }
  }
  
  // Return the vector of the longest commong subsequence
<span class="cstat-no" title="statement not covered" >  return vector;</span>
}
&nbsp;
// Find the place at which +value+ would normally be inserted into the
// Enumerable. If that place is already occupied by +value+, do nothing
// and return +nil+. If the place does not exist (i.e., it is off the end
// of the Enumerable), add it to the end. Otherwise, replace the element
// at that point with +value+. It is assumed that the Enumerable's values
// are numeric.
//
// This operation preserves the sort order.
Difference.LCS.__replace_next_larger = <span class="fstat-no" title="function not covered" >function(enumerable, value, last_index) {</span>
  // Is it off the end
<span class="cstat-no" title="statement not covered" >  if(enumerable.length == 0 || (value &gt; enumerable[enumerable.length - 1])) {</span>
<span class="cstat-no" title="statement not covered" >    enumerable.push(value);</span>
<span class="cstat-no" title="statement not covered" >    return enumerable.length - 1;</span>
  }
  
  // Binary search for the insertion point
<span class="cstat-no" title="statement not covered" >  var last_index = last_index || enumerable.length;</span>
<span class="cstat-no" title="statement not covered" >  var first_index = 0;</span>
  
<span class="cstat-no" title="statement not covered" >  while(first_index &lt;= last_index) {</span>
<span class="cstat-no" title="statement not covered" >    var ii = (first_index + last_index) &gt;&gt; 1;</span>
<span class="cstat-no" title="statement not covered" >    var found = enumerable[ii];</span>
    
<span class="cstat-no" title="statement not covered" >    if(value == found) {</span>
<span class="cstat-no" title="statement not covered" >      return null;</span>
    } else <span class="cstat-no" title="statement not covered" >if(value &gt; found) {</span>
<span class="cstat-no" title="statement not covered" >      first_index = ii + 1;</span>
    } else {
<span class="cstat-no" title="statement not covered" >      last_index = ii - 1;</span>
    }
  }
  
  // The insertion point is in first_index; overwrite the next larger
  // value.
<span class="cstat-no" title="statement not covered" >  enumerable[first_index] = value;</span>
<span class="cstat-no" title="statement not covered" >  return first_index;</span>
}
&nbsp;
Difference.LCS.__position_hash = <span class="fstat-no" title="function not covered" >function(enumerable, interval_start, interval_end) {</span>
<span class="cstat-no" title="statement not covered" >  interval_start = interval_start ? interval_start : 0;</span>
<span class="cstat-no" title="statement not covered" >  interval_end = interval_end ? interval_end : -1;</span>
  
<span class="cstat-no" title="statement not covered" >  var hash = {}</span>
<span class="cstat-no" title="statement not covered" >  for(var i = interval_start; i &lt;= interval_end; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var kk = Array.isArray(enumerable) ? enumerable[i] : enumerable.charAt(i);</span>
<span class="cstat-no" title="statement not covered" >    hash[kk] = Array.isArray(hash[kk]) ? hash[kk] : [];</span>
<span class="cstat-no" title="statement not covered" >    hash[kk].push(i);</span>
  }
<span class="cstat-no" title="statement not covered" >  return hash;</span>
}
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 26 2017 05:11:28 GMT+0000 (UTC)</div>
</div>
</body>
</html>
